define(["jquery","jqueryui"],function(a,b){return{initialise:function(b){a(".new-activity-modal").click(function(){var b=a(this).data("id"),c="get_add_activity_course_list";console.log("hello"),a.ajax({type:"GET",async:!0,url:M.cfg.wwwroot+"/theme/remui/rest.php?action="+c+"&courseid="+b,success:function(c){var d=a(".maincalendar select.cal_courses_flt option:selected").text();"has_capability"===c?(a(".modal-title").html(M.util.get_string("redirectingtocourse","theme_remui",d)),a(".modal-body").html('<center><i class="fa fa-3x fa-refresh fa-spin"></i></center>'),window.location.href=M.cfg.wwwroot+"/course/view.php?id="+b+"&sesskey="+M.cfg.sesskey+"&edit=on"):"no_capability"===c?a(".modal-body").html('<div class="alert alert-danger">'+M.util.get_string("nopermissiontoaddactivityincourse","theme_remui",d)+"</div>"):(a(".modal-body select").empty(),a.isEmptyObject(c)?(a(".modal-body").html('<div class="alert alert-danger">'+M.util.get_string("nopermissiontoaddactivityinanycourse","theme_remui")+"</div>"),a("#calnedar-modal-btn-add").hide()):(a(".modal-body select").append('<option value="" disabled selected>'+M.util.get_string("selectyouroption","theme_remui")+"</option>"),a.each(c,function(b,c){a(".modal-body select").append("<option id="+b+">"+c+"</option>")})))},error:function(b,c,d){console.log(b+"\n"+d+"\n"+c),a(".modal-body").html('<div class="alert alert-danger">'+d+"</div>")}})}),a("select").on("change",function(b){var c=a(this).children(":selected").text();a(".modal-title").html(M.util.get_string("redirectingtocourse","theme_remui",c)),a(".modal-body").html('<center><i class="fa fa-3x fa-refresh fa-spin"></i></center>');var d=a(this).children(":selected").attr("id");window.location.href=M.cfg.wwwroot+"/course/view.php?id="+d+"&sesskey="+M.cfg.sesskey+"&edit=on"})}}});